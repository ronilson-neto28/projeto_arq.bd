<svg width="1100" height="900" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .box { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; }
      .decision { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; }
      .process { fill: #e8f5e8; stroke: #388e3c; stroke-width: 2; }
      .data { fill: #fce4ec; stroke: #c2185b; stroke-width: 2; }
      .tech { fill: #e8eaf6; stroke: #3f51b5; stroke-width: 2; }
      .output { fill: #fff8e1; stroke: #ff8f00; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 10px; text-anchor: middle; }
      .title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; text-anchor: middle; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Título -->
  <text x="550" y="30" class="title">Fluxograma - Sistema de Impressão</text>
  
  <!-- Início -->
  <ellipse cx="550" cy="70" rx="80" ry="25" class="box" />
  <text x="550" y="75" class="text">Usuário em Listar Exames</text>
  
  <!-- Botão Imprimir -->
  <rect x="500" y="120" width="100" height="40" class="box" />
  <text x="550" y="145" class="text">Clica "Imprimir"</text>
  
  <!-- Controller -->
  <rect x="480" y="190" width="140" height="40" class="process" />
  <text x="550" y="215" class="text">ListarExamesController</text>
  
  <!-- Busca no Banco -->
  <polygon points="550,250 600,270 550,290 500,270" class="decision" />
  <text x="550" y="275" class="text">Encaminhamento\nExiste?</text>
  
  <!-- Dados Reais -->
  <rect x="350" y="330" width="120" height="40" class="data" />
  <text x="410" y="355" class="text">Carregar Dados Reais</text>
  
  <!-- Dados Mock -->
  <rect x="630" y="330" width="120" height="40" class="data" />
  <text x="690" y="355" class="text">Gerar Dados Mock</text>
  
  <!-- Carregamento de Relacionamentos -->
  <rect x="480" y="400" width="140" height="40" class="process" />
  <text x="550" y="425" class="text">Carregar Relacionamentos</text>
  
  <!-- Formatação de Dados -->
  <rect x="480" y="470" width="140" height="40" class="process" />
  <text x="550" y="495" class="text">Formatar CPF/CNPJ/Datas</text>
  
  <!-- Blade Template -->
  <rect x="480" y="540" width="140" height="40" class="tech" />
  <text x="550" y="565" class="text">Blade Template Engine</text>
  
  <!-- Renderização HTML -->
  <rect x="480" y="610" width="140" height="40" class="tech" />
  <text x="550" y="635" class="text">Renderização HTML</text>
  
  <!-- CSS Print -->
  <rect x="300" y="680" width="120" height="40" class="tech" />
  <text x="360" y="705" class="text">CSS @media print</text>
  
  <!-- JavaScript -->
  <rect x="480" y="680" width="140" height="40" class="tech" />
  <text x="550" y="705" class="text">JavaScript window.print()</text>
  
  <!-- Diálogo de Impressão -->
  <rect x="680" y="680" width="120" height="40" class="output" />
  <text x="740" y="705" class="text">Diálogo do Navegador</text>
  
  <!-- Saídas -->
  <rect x="200" y="760" width="100" height="40" class="output" />
  <text x="250" y="785" class="text">Impressão Física</text>
  
  <rect x="350" y="760" width="100" height="40" class="output" />
  <text x="400" y="785" class="text">Salvar PDF</text>
  
  <rect x="500" y="760" width="100" height="40" class="output" />
  <text x="550" y="785" class="text">Visualizar</text>
  
  <!-- Setas principais -->
  <line x1="550" y1="95" x2="550" y2="120" class="arrow" />
  <line x1="550" y1="160" x2="550" y2="190" class="arrow" />
  <line x1="550" y1="230" x2="550" y2="250" class="arrow" />
  
  <!-- Decisão -->
  <line x1="500" y1="270" x2="410" y2="330" class="arrow" />
  <line x1="600" y1="270" x2="690" y2="330" class="arrow" />
  
  <!-- Convergência -->
  <line x1="410" y1="370" x2="520" y2="400" class="arrow" />
  <line x1="690" y1="370" x2="580" y2="400" class="arrow" />
  
  <!-- Fluxo principal -->
  <line x1="550" y1="440" x2="550" y2="470" class="arrow" />
  <line x1="550" y1="510" x2="550" y2="540" class="arrow" />
  <line x1="550" y1="580" x2="550" y2="610" class="arrow" />
  
  <!-- Tecnologias -->
  <line x1="550" y1="650" x2="360" y2="680" class="arrow" />
  <line x1="550" y1="650" x2="550" y2="680" class="arrow" />
  <line x1="550" y1="650" x2="740" y2="680" class="arrow" />
  
  <!-- Saídas -->
  <line x1="360" y1="720" x2="250" y2="760" class="arrow" />
  <line x1="550" y1="720" x2="400" y2="760" class="arrow" />
  <line x1="740" y1="720" x2="550" y2="760" class="arrow" />
  
  <!-- Labels -->
  <text x="480" y="265" class="text" style="font-size: 9px;">Sim</text>
  <text x="620" y="265" class="text" style="font-size: 9px;">Não</text>
  
  <!-- Detalhes técnicos lado esquerdo -->
  <text x="100" y="100" class="text" style="font-size: 12px; font-weight: bold;">Relacionamentos Carregados:</text>
  <text x="100" y="120" class="text" style="font-size: 9px;">• funcionario (nome, cpf, rg)</text>
  <text x="100" y="140" class="text" style="font-size: 9px;">• empresa (razão social, cnpj)</text>
  <text x="100" y="160" class="text" style="font-size: 9px;">• cargo (nome, riscos)</text>
  
  <text x="100" y="200" class="text" style="font-size: 12px; font-weight: bold;">Formatações Aplicadas:</text>
  <text x="100" y="220" class="text" style="font-size: 9px;">• CPF: 000.000.000-00</text>
  <text x="100" y="240" class="text" style="font-size: 9px;">• CNPJ: 00.000.000/0000-00</text>
  <text x="100" y="260" class="text" style="font-size: 9px;">• Datas: dd/mm/yyyy</text>
  <text x="100" y="280" class="text" style="font-size: 9px;">• Textos: MAIÚSCULAS</text>
  
  <!-- Detalhes técnicos lado direito -->
  <text x="850" y="100" class="text" style="font-size: 12px; font-weight: bold;">CSS Print Otimizações:</text>
  <text x="850" y="120" class="text" style="font-size: 9px;">• .no-print { display: none }</text>
  <text x="850" y="140" class="text" style="font-size: 9px;">• font-size: 11pt</text>
  <text x="850" y="160" class="text" style="font-size: 9px;">• @page { size: A4 }</text>
  <text x="850" y="180" class="text" style="font-size: 9px;">• margin: 2cm</text>
  
  <text x="850" y="220" class="text" style="font-size: 12px; font-weight: bold;">Seções do Documento:</text>
  <text x="850" y="240" class="text" style="font-size: 9px;">• Cabeçalho com logo</text>
  <text x="850" y="260" class="text" style="font-size: 9px;">• Dados do funcionário</text>
  <text x="850" y="280" class="text" style="font-size: 9px;">• Dados da empresa</text>
  <text x="850" y="300" class="text" style="font-size: 9px;">• Riscos ocupacionais</text>
  <text x="850" y="320" class="text" style="font-size: 9px;">• Exames solicitados</text>
  <text x="850" y="340" class="text" style="font-size: 9px;">• Rodapé com assinaturas</text>
  
  <text x="850" y="380" class="text" style="font-size: 12px; font-weight: bold;">Tecnologias Utilizadas:</text>
  <text x="850" y="400" class="text" style="font-size: 9px;">• Laravel Blade Templates</text>
  <text x="850" y="420" class="text" style="font-size: 9px;">• HTML5 Semântico</text>
  <text x="850" y="440" class="text" style="font-size: 9px;">• CSS3 Media Queries</text>
  <text x="850" y="460" class="text" style="font-size: 9px;">• JavaScript Window API</text>
  <text x="850" y="480" class="text" style="font-size: 9px;">• Eloquent ORM</text>
  
  <!-- Dados Mock -->
  <text x="100" y="350" class="text" style="font-size: 12px; font-weight: bold;">Sistema de Fallback:</text>
  <text x="100" y="370" class="text" style="font-size: 9px;">• Dados mock por ID</text>
  <text x="100" y="390" class="text" style="font-size: 9px;">• Funcionários reais</text>
  <text x="100" y="410" class="text" style="font-size: 9px;">• Empresas reais</text>
  <text x="100" y="430" class="text" style="font-size: 9px;">• Tipos de exame variados</text>
  
  <!-- Vantagens -->
  <text x="100" y="500" class="text" style="font-size: 12px; font-weight: bold;">Vantagens da Solução:</text>
  <text x="100" y="520" class="text" style="font-size: 9px;">• Sem dependências externas</text>
  <text x="100" y="540" class="text" style="font-size: 9px;">• Performance otimizada</text>
  <text x="100" y="560" class="text" style="font-size: 9px;">• Compatibilidade universal</text>
  <text x="100" y="580" class="text" style="font-size: 9px;">• Controle total do layout</text>
  <text x="100" y="600" class="text" style="font-size: 9px;">• Fácil manutenção</text>
  
</svg>