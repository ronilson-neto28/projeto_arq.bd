<svg width="1000" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .box { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; }
      .decision { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; }
      .process { fill: #e8f5e8; stroke: #388e3c; stroke-width: 2; }
      .data { fill: #fce4ec; stroke: #c2185b; stroke-width: 2; }
      .form { fill: #f3e5f5; stroke: #7b1fa2; stroke-width: 2; }
      .text { font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; }
      .title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; text-anchor: middle; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Título -->
  <text x="500" y="30" class="title">Fluxograma - Encaminhamentos Médicos</text>
  
  <!-- Início -->
  <ellipse cx="500" cy="70" rx="70" ry="25" class="box" />
  <text x="500" y="75" class="text">Usuário Logado</text>
  
  <!-- Menu Forms -->
  <rect x="450" y="120" width="100" height="40" class="box" />
  <text x="500" y="145" class="text">Menu Forms</text>
  
  <!-- Gerar Exame -->
  <rect x="450" y="190" width="100" height="40" class="form" />
  <text x="500" y="215" class="text">Gerar Exame</text>
  
  <!-- Seleção de Empresa -->
  <rect x="150" y="270" width="120" height="40" class="data" />
  <text x="210" y="295" class="text">Selecionar Empresa</text>
  
  <!-- Carregamento de Funcionários -->
  <rect x="320" y="270" width="120" height="40" class="process" />
  <text x="380" y="295" class="text">Carregar Funcionários</text>
  
  <!-- Seleção de Funcionário -->
  <rect x="490" y="270" width="120" height="40" class="data" />
  <text x="550" y="295" class="text">Selecionar Funcionário</text>
  
  <!-- Carregamento de Cargo -->
  <rect x="660" y="270" width="120" height="40" class="process" />
  <text x="720" y="295" class="text">Carregar Cargo</text>
  
  <!-- Seleção de Tipo de Exame -->
  <rect x="450" y="350" width="120" height="40" class="data" />
  <text x="510" y="375" class="text">Tipo de Exame</text>
  
  <!-- Validação de Dados -->
  <polygon points="500,420 550,440 500,460 450,440" class="decision" />
  <text x="500" y="445" class="text">Dados Válidos?</text>
  
  <!-- Geração de Número de Guia -->
  <rect x="440" y="500" width="120" height="40" class="process" />
  <text x="500" y="525" class="text">Gerar Nº Guia Único</text>
  
  <!-- Criação do Encaminhamento -->
  <rect x="440" y="570" width="120" height="40" class="process" />
  <text x="500" y="595" class="text">Criar Encaminhamento</text>
  
  <!-- Salvamento no Banco -->
  <rect x="440" y="640" width="120" height="40" class="process" />
  <text x="500" y="665" class="text">Salvar no Banco</text>
  
  <!-- Redirecionamento -->
  <rect x="440" y="710" width="120" height="40" class="box" />
  <text x="500" y="735" class="text">Listar Exames</text>
  
  <!-- Setas principais -->
  <line x1="500" y1="95" x2="500" y2="120" class="arrow" />
  <line x1="500" y1="160" x2="500" y2="190" class="arrow" />
  <line x1="500" y1="230" x2="210" y2="270" class="arrow" />
  
  <!-- Fluxo de seleção -->
  <line x1="270" y1="290" x2="320" y2="290" class="arrow" />
  <line x1="440" y1="290" x2="490" y2="290" class="arrow" />
  <line x1="610" y1="290" x2="660" y2="290" class="arrow" />
  
  <!-- Convergência para tipo de exame -->
  <line x1="210" y1="310" x2="480" y2="350" class="arrow" />
  <line x1="380" y1="310" x2="490" y2="350" class="arrow" />
  <line x1="550" y1="310" x2="500" y2="350" class="arrow" />
  <line x1="720" y1="310" x2="520" y2="350" class="arrow" />
  
  <!-- Fluxo principal -->
  <line x1="500" y1="390" x2="500" y2="420" class="arrow" />
  <line x1="500" y1="460" x2="500" y2="500" class="arrow" />
  <line x1="500" y1="540" x2="500" y2="570" class="arrow" />
  <line x1="500" y1="610" x2="500" y2="640" class="arrow" />
  <line x1="500" y1="680" x2="500" y2="710" class="arrow" />
  
  <!-- Seta de erro -->
  <line x1="450" y1="440" x2="350" y2="440" class="arrow" stroke="red" />
  <line x1="350" y1="440" x2="350" y2="215" class="arrow" stroke="red" />
  <line x1="350" y1="215" x2="450" y2="215" class="arrow" stroke="red" />
  
  <!-- Labels -->
  <text x="530" y="435" class="text" style="font-size: 10px;">Sim</text>
  <text x="420" y="435" class="text" style="font-size: 10px;">Não</text>
  
  <!-- Informações adicionais -->
  <text x="850" y="100" class="text" style="font-size: 12px; font-weight: bold;">Tipos de Exame:</text>
  <text x="850" y="120" class="text" style="font-size: 10px;">• Admissional</text>
  <text x="850" y="140" class="text" style="font-size: 10px;">• Periódico</text>
  <text x="850" y="160" class="text" style="font-size: 10px;">• Demissional</text>
  <text x="850" y="180" class="text" style="font-size: 10px;">• Retorno ao Trabalho</text>
  <text x="850" y="200" class="text" style="font-size: 10px;">• Mudança de Função</text>
  
  <text x="850" y="250" class="text" style="font-size: 12px; font-weight: bold;">Validações:</text>
  <text x="850" y="270" class="text" style="font-size: 10px;">• Empresa selecionada</text>
  <text x="850" y="290" class="text" style="font-size: 10px;">• Funcionário válido</text>
  <text x="850" y="310" class="text" style="font-size: 10px;">• Tipo de exame definido</text>
  <text x="850" y="330" class="text" style="font-size: 10px;">• Data de atendimento</text>
  
  <text x="850" y="380" class="text" style="font-size: 12px; font-weight: bold;">Dados Gerados:</text>
  <text x="850" y="400" class="text" style="font-size: 10px;">• Número da guia único</text>
  <text x="850" y="420" class="text" style="font-size: 10px;">• Data de emissão</text>
  <text x="850" y="440" class="text" style="font-size: 10px;">• Status: Agendado</text>
  <text x="850" y="460" class="text" style="font-size: 10px;">• Riscos ocupacionais</text>
  
  <!-- Relacionamentos -->
  <text x="50" y="350" class="text" style="font-size: 12px; font-weight: bold;">Relacionamentos:</text>
  <rect x="20" y="370" width="80" height="30" class="data" />
  <text x="60" y="390" class="text">Funcionario</text>
  
  <rect x="20" y="410" width="80" height="30" class="data" />
  <text x="60" y="430" class="text">Empresa</text>
  
  <rect x="20" y="450" width="80" height="30" class="data" />
  <text x="60" y="470" class="text">Cargo</text>
  
  <rect x="20" y="490" width="80" height="30" class="data" />
  <text x="60" y="510" class="text">Riscos</text>
  
  <!-- Setas dos relacionamentos -->
  <line x1="100" y1="385" x2="440" y2="585" class="arrow" stroke="#c2185b" />
  <line x1="100" y1="425" x2="440" y2="590" class="arrow" stroke="#c2185b" />
  <line x1="100" y1="465" x2="440" y2="595" class="arrow" stroke="#c2185b" />
  <line x1="100" y1="505" x2="440" y2="600" class="arrow" stroke="#c2185b" />
  
</svg>